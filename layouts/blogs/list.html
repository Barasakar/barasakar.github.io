{{ define "main" }}
<div class="posts-list">
    {{ range $index, $element := .Paginator.Pages }}
    <article id="{{ $index }}" class="{{ if .Params.hideInitially }}hidden{{ end }}">
        <h2><a href="{{ .Permalink }}">{{ .Title }}</a></h2>
        <div class="post-meta">Updated on {{ .Date.Format "January 2, 2006" }}</div>
    </article>
    {{ end }}
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const urlParams = new URLSearchParams(window.location.search);
    const togglePost = urlParams.get('togglePost');
    if (togglePost) {
        const postElement = document.getElementById(togglePost);
        if (postElement) {
            postElement.classList.toggle('hidden');
        }
    }
});
</script>
{{ end }}
